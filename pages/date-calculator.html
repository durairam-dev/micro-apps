<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="../images/favicon.svg" />
    <title>Micro Apps | Date Calculator</title>
    <script src="../scripts/tailwindcss.js"></script>
    <script src="../scripts/dateCalculator.js"></script>
  </head>
  <body>
    <header
      class="w-full flex items-center justify-center space-x-2 bg-black h-16"
    >
      <a href="../" class="flex">
        <div class="size-10">
          <img src="../images/logo.png" alt="logo" height="100%" width="100%" />
        </div>
        <h1 class="text-3xl font-bold text-white text-center">Micro Apps</h1>
      </a>
    </header>
    <main class="container mx-auto lg:p-4 p-2">
      <div class="w-full max-w-4xl mx-auto">
        <ul
          class="tabs flex sm:flex-row sm:space-x-4 sm:space-y-0 flex-col space-y-2 space-x-0 border-b bg-black rounded-xl p-1"
        >
          <li
            class="tab-link py-2 px-4 font-bold cursor-pointer w-full text-center rounded-lg bg-white"
            data-tab="tab1"
          >
            Dates Interval
          </li>
          <li
            class="tab-link py-2 px-4 font-bold text-white cursor-pointer w-full text-center rounded-lg"
            data-tab="tab2"
          >
            Date Manipulator
          </li>
        </ul>
        <div class="tab-content mt-4">
          <div id="tab1" class="tab-item">
            <div class="w-full">
              <form id="date-form" class="space-y-4">
                <ul
                  class="grid lg:grid-cols-4 md:grid-cols-3 grid-cols-1 lg:gap-4 gap-2 items-center"
                >
                  <li>
                    <input
                      type="date"
                      id="start-date"
                      class="w-full border-2 border-black rounded-md p-2 focus:outline-none uppercase font-bold"
                    />
                  </li>
                  <li>
                    <input
                      type="date"
                      id="end-date"
                      class="w-full border-2 border-black rounded-md p-2 focus:outline-none uppercase font-bold"
                    />
                  </li>
                  <li class="flex items-center lg:justify-center justify-start">
                    <input
                      id="include-end-date"
                      type="checkbox"
                      class="size-4 rounded"
                    />
                    <label
                      for="include-end-date"
                      class="ml-2 text-lg font-semibold"
                    >
                      Include End Date
                    </label>
                  </li>
                  <li>
                    <div class="relative inline-block text-left w-full">
                      <button
                        type="button"
                        id="dropdown-button"
                        class="inline-flex items-center justify-between w-full rounded-md border-2 border-black shadow-sm px-4 py-2 bg-white text-md font-semibold focus:outline-none"
                        aria-haspopup="true"
                        aria-expanded="true"
                      >
                        Select Weekdays
                        <svg
                          class="size-6 ml-2"
                          aria-hidden="true"
                          xmlns="http://www.w3.org/2000/svg"
                          width="24"
                          height="24"
                          fill="none"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke="currentColor"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="m19 9-7 7-7-7"
                          />
                        </svg>
                      </button>
                      <div
                        id="dropdown-menu"
                        class="origin-top-left absolute left-0 mt-2 w-full rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none hidden"
                        role="menu"
                        aria-orientation="vertical"
                        aria-labelledby="dropdown-button"
                      >
                        <ul class="py-1">
                          <li class="flex px-4 py-2">
                            <input
                              type="checkbox"
                              id="all-days"
                              value="all"
                              class="size-4 border-black rounded"
                              checked
                            />
                            <label for="all-days" class="ml-2 block text-sm">
                              All
                            </label>
                          </li>
                          <li class="flex px-4 py-2">
                            <input
                              type="checkbox"
                              id="monday"
                              value="1"
                              class="size-4 border-black rounded"
                              checked
                            />
                            <label for="monday" class="ml-2 block text-sm">
                              Monday
                            </label>
                          </li>
                          <li class="flex px-4 py-2">
                            <input
                              type="checkbox"
                              id="tuesday"
                              value="2"
                              class="size-4 border-black rounded"
                              checked
                            />
                            <label for="tuesday" class="ml-2 block text-sm">
                              Tuesday
                            </label>
                          </li>
                          <li class="flex px-4 py-2">
                            <input
                              type="checkbox"
                              id="wednesday"
                              value="3"
                              class="size-4 border-black rounded"
                              checked
                            />
                            <label for="wednesday" class="ml-2 block text-sm">
                              Wednesday
                            </label>
                          </li>
                          <li class="flex px-4 py-2">
                            <input
                              type="checkbox"
                              id="thursday"
                              value="4"
                              class="size-4 border-black rounded"
                              checked
                            />
                            <label for="thursday" class="ml-2 block text-sm">
                              Thursday
                            </label>
                          </li>
                          <li class="flex px-4 py-2">
                            <input
                              type="checkbox"
                              id="friday"
                              value="5"
                              class="size-4 border-black rounded"
                              checked
                            />
                            <label for="friday" class="ml-2 block text-sm">
                              Friday
                            </label>
                          </li>
                          <li class="flex px-4 py-2">
                            <input
                              type="checkbox"
                              id="saturday"
                              value="6"
                              class="size-4 border-black rounded"
                              checked
                            />
                            <label for="saturday" class="ml-2 block text-sm">
                              Saturday
                            </label>
                          </li>
                          <li class="flex px-4 py-2">
                            <input
                              type="checkbox"
                              id="sunday"
                              value="0"
                              class="size-4 border-black rounded"
                              checked
                            />
                            <label for="sunday" class="ml-2 block text-sm">
                              Sunday
                            </label>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </li>
                  <li>
                    <button
                      type="button"
                      class="w-full bg-black text-white font-semibold py-2 rounded-md"
                      onclick="dateInterval()"
                    >
                      Calculate Interval
                    </button>
                  </li>
                </ul>
              </form>
              <div class="flex flex-col space-y-2">
                <ul
                  id="breakdown-result"
                  class="grid lg:grid-cols-4 md:grid-cols-3 grid-cols-1 md:gap-4 gap-2 mt-2"
                ></ul>
                <ul
                  id="total-result"
                  class="grid lg:grid-cols-4 md:grid-cols-3 grid-cols-1 md:gap-4 gap-2 mt-2"
                ></ul>
              </div>
            </div>
          </div>
          <div id="tab2" class="tab-item hidden">
            <div class="w-full">
              <ul
                class="grid lg:grid-cols-4 md:grid-cols-3 grid-cols-1 lg:gap-4 gap-2 items-center"
              >
                <li>
                  <input
                    type="date"
                    id="date"
                    class="w-full border-2 border-black rounded-md p-2 focus:outline-none uppercase font-bold"
                  />
                </li>
                <li>
                  <select
                    id="operation"
                    class="h-10 w-full bg-white rounded border-r-8 border-transparent px-4 text-md outline outline-2 outline-black"
                  >
                    <option value="none">Operation</option>
                    <option value="add">Add</option>
                    <option value="subtract">Subtract</option>
                  </select>
                </li>
                <li>
                  <select
                    id="unit"
                    class="h-10 w-full bg-white rounded border-r-8 border-transparent px-4 text-md outline outline-2 outline-black"
                  >
                    <option value="none">Unit</option>
                    <option value="years">Years</option>
                    <option value="months">Months</option>
                    <option value="weeks">Weeks</option>
                    <option value="days">Days</option>
                  </select>
                </li>
                <li>
                  <input
                    type="number"
                    id="amount"
                    class="w-full border-2 border-black rounded-md p-2 focus:outline-none uppercase font-bold"
                    value="0"
                  />
                </li>
                <li>
                  <button
                    type="button"
                    class="w-full bg-black text-white font-semibold py-2 rounded-md"
                    onclick="dateManipulator()"
                  >
                    Calculate
                  </button>
                </li>
              </ul>
              <div id="output-date" class="mt-2 lg:w-1/4 md:w-1/3 w-full"></div>
            </div>
          </div>
        </div>
      </div>
    </main>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const tabs = document.querySelectorAll(".tab-link");
        const tabContents = document.querySelectorAll(".tab-item");

        tabs.forEach((tab) => {
          tab.addEventListener("click", () => {
            tabs.forEach((t) => {
              t.classList.remove("bg-white");
              t.classList.add("text-white");
            });

            tab.classList.remove("text-white");
            tab.classList.add("bg-white");

            const target = tab.getAttribute("data-tab");
            tabContents.forEach((content) => {
              content.classList.add("hidden");
              if (content.id === target) {
                content.classList.remove("hidden");
              }
            });
          });
        });

        // Default to the first tab
        tabs[0].click();
      });
    </script>
  </body>
</html>
